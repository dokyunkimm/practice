<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>153logistics</title>

    <link rel="stylesheet" href="css/newbird_k.css">

    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
</head>
<body>
    <div class="kwqLgsWrp">
        <div class="kwqHdr">
            <div class="kwqInr">
                <h1 class="kwqLgo">
                    <a href="javascript:;">
                        <img src="https://www.153logistics.com/inc/img/common/logo_w.svg" alt="" class="kwqLgoWht">
                        <img src="https://www.153logistics.com/inc/img/common/logo_b.svg" alt="" class="kwqLgoBlk">
                    </a>
                </h1>
                <div class="kwqNav">
                    <ul>
                        <li><a href="javascript:;">회사소개</a></li>
                        <li><a href="javascript:;">서비스소개</a></li>
                        <li><a href="javascript:;">특화서비스</a></li>
                        <li><a href="javascript:;">153로지스틱스 시스템</a></li>
                        <li><a href="javascript:;">고객지원</a></li>
                    </ul>
                </div>
                <div class="kwqShr">
                    <a href="javascript:;">Share</a>
                </div>
            </div>
        </div>
        <div class="kwqLgsCtr">
            <div class="kwqVsl">
                <div class="kwqInr">
                    <div class="kwqVslTtlBox">
                        <strong>
                            상품을 담아 가치를 빚다. <br />
                            153 LOGISTICS
                        </strong>
                    </div>
                </div>

                <div class="kwqMseScl">
                    <span>Scroll</span>
                    <span class="kwqScrDwnIcn"></span>
                </div>
            </div>
            <div class="kwqSrvSct">
                <div class="kwqInr">
                    <h2 class="kwqSctTtl">
                        153로지스틱스의<br />
                        다양한 서비스를 확인해 보세요.
                    </h2>
                </div>

                <div class="kwqScrCntBox">
                    <div>
                        <div class="kwqInr">
                            <div class="kwqInfoWrp">
                                <div class="kwqInfoBox active">
                                    <span class="kwqEngTtl">Logistics Consulting</span>
                                    <h2 class="kwqSctTtl">풀필먼트</h2>
                                    <p class="kwqInfoTxt">
                                        153로지스틱스의 물류 컨설팅으로<br /> 
                                        더 스마트해지고 빨라진 물류 시스템을 만나보세요.
                                    </p>
                                    <a href="javascript:;" class="kwqMreBtn">VIEW MORE</a>
                                </div>
                                <div class="kwqInfoBox">
                                    <span class="kwqEngTtl">TV Home Shopping Logistics Agency</span>
                                    <h2 class="kwqSctTtl">TV홈쇼핑 물류대행</h2>
                                    <p class="kwqInfoTxt">
                                        홈쇼핑 물류가 고민이라면<br /> 
                                        A-Z까지 전문 담당자가 해결해 드립니다.
                                    </p>
                                    <a href="javascript:;" class="kwqMreBtn">VIEW MORE</a>
                                </div>
                            </div>
                            <div class="kwqSldBox">
                                <div class="kwqSldCnt">
                                    <div class="kwqImgBox">
                                        <img src="https://www.153logistics.com/inc/img/main/service1.jpg" alt="">
                                    </div>
                                    <div class="kwqImgBox">
                                        <img src="https://www.153logistics.com/inc/img/main/service2.jpg" alt="">
                                    </div>
                                    <div class="kwqImgBox">
                                        <img src="https://www.153logistics.com/inc/img/main/service3.jpg" alt="">
                                    </div>
                                    <div class="kwqImgBox">
                                        <img src="https://www.153logistics.com/inc/img/main/service4.jpg" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="sec03 sec">
            <div>
                <div>
                    <div class="inner">
                        <div class="txtWrp">
                            <h2>Title</h2>
                            <p>text01</p>
                            <p>text02</p>
                        </div>
                    </div>
                    <div class="imgWrp">
                        <img src="https://www.153logistics.com/inc/img/main/special1.png" alt="">
                        <img src="https://www.153logistics.com/inc/img/main/special2.png" alt="">
                    </div>
                </div>
            </div>
        </div>

        <div class="kwqSct04">
            <div>
                <div class="kwqBxsSld">
                    <div>1</div>
                    <div>2</div>
                    <div>3</div>
                </div>
                <div class="kwqBxsSldBg"></div>
            </div>
        </div>

        <div>
            f
        </div>
    </div>


    
    <script type="text/javascript">
        $(function() {
            var scrTop = 0;
            var mseWhl = 0;
            var wndOtW = $(window).outerWidth();
            var wndOtH = $(window).outerHeight();
            var sct01Top = $('.kwqScrCntBox').offset().top;
            var sct04Top = $('.sec03').offset().top;
            
            $('.kwqScrCntBox').css('height', wndOtH * 2);
            $(".sec03.sec").css("height",$(window).outerHeight() * 4);
            $('.kwqSldBox .kwqSldCnt').css('transform', 'translateX(' + 70 + '%)');

            var i = 0;
            var j = 0;

            $(window).resize(function() {
                scrTop = $(window).scrollTop();
                wndOtW = $(window).outerWidth();
                wndOtH = $(window).outerHeight();
                sct04Top = $('.sec03').offset().top;
                $('.kwqScrCntBox').css('height', wndOtH * 2);
                $(".sec03.sec").css("height",$(window).outerHeight() * 4);
                $('.kwqSldBox .kwqSldCnt').css('transform', 'translateX(' + 70 + '%)');

                
                sct01PdnTop();
            });

            $(window).scroll(function() {
                scrTop = $(window).scrollTop();
                wndOtW = $(window).outerWidth();
                wndOtH = $(window).outerHeight();
                sct04Top = $('.sec03').offset().top;
                $('.kwqScrCntBox').css('height', wndOtH * 2);
                $(".sec03.sec").css("height",$(window).outerHeight() * 4);
                $('.kwqSldBox .kwqSldCnt').css('transform', 'translateX(' + 70 + '%)');
                
                hdrAni();
                chgImg();
                BgClrChg();
                boxSldAni();
                sct01Sld();
                sct01PdnTop();
            });

            
            var pcPdnTop = 240;
            function sct01PdnTop(){
                if(wndOtW > 1024){
                    var pcPdnTop = 240;
                } else {

                }
            }

            function hdrAni(){
                if(scrTop > 0 && scrTop > mseWhl){
                    mseWhl = scrTop;
                    $('body').removeClass('hdrDwn');
                    $('body').addClass('hdrUp');
                } else {
                    mseWhl = scrTop;
                    $('body').removeClass('hdrUp');
                    $('body').addClass('hdrDwn');
                }

                if(scrTop >= ($('.kwqSrvSct').offset().top - $('.kwqHdr').outerHeight())){
                    $('.kwqHdr').addClass('fxd');
                } else {
                    $('.kwqHdr').removeClass('fxd');
                }
            }

            function sct01Sld(){
                sct01Rto = (scrTop - (sct01Top - pcPdnTop)) / ($('.kwqScrCntBox').outerHeight() - wndOtH);
                sldAni = (70 - (70 * sct01Rto))

                if(scrTop >= sct01Top - pcPdnTop){
                    $('.kwqSldBox .kwqSldCnt').css('transform', 'translateX(' + sldAni + '%)');
                    console.log($('.kwqSldBox .kwqSldCnt').css('transform'))
                    if($('.kwqSldBox .kwqSldCnt').css('transform') <= 800 ){
                        alert('test')
                    }
                } else {
                }
            }

            function chgImg(){
                i = scrTop - sct04Top - wndOtH;
                j = wndOtH;

                if( scrTop >= sct04Top + wndOtH){
                    $('.imgWrp img').eq(1).css('opacity', 1 - (i / j));
                } else if(scrTop > sct04Top + (wndOtH * 2)){
                    $('.imgWrp img').eq(1).css('opacity', 0);
                } else if(scrTop < sct04Top + wndOtH){
                    $('.imgWrp img').eq(1).css('opacity', 1);
                }
            }

            function BgClrChg(){
                let chgBgClr = (scrTop - sct04Top) / ($('.sec03').outerHeight() - wndOtH);
                let blk = 255 - (255 * chgBgClr);
                let wht = 0 + 255 * chgBgClr;

                if(scrTop >= sct04Top && scrTop + wndOtH <= sct04Top + $('.sec03').outerHeight()){
                    $('.sec03').css('backgroundColor', 'rgb(' + blk + ',' + blk + ',' + blk + ')');
                    $('.txtWrp').css('color', 'rgb(' + wht + ',' + wht + ',' + wht + ')');
                } else if(scrTop < sct04Top){
                    $('.sec03').css('backgroundColor', 'rgb(255, 255, 255)');
                    $('.txtWrp').css('color', 'rgb(0, 0, 0)');
                } else if(scrTop + wndOtH > sct04Top + $('.sec03').outerHeight()){
                    $('.sec03').css('backgroundColor', 'rgb(0, 0, 0)');
                    $('.txtWrp').css('color', 'rgb(255, 255, 255)');
                }
            }

            // 박스 슬라이드
            var $kwqSct04 = $('.kwqSct04');
            var $kwqBxsSld = $('.kwqBxsSld');
            var boxesWth = wndOtW * 2;
            $kwqSct04.css({
                'height': wndOtH * 3
            });
            $kwqBxsSld.css({
                'width' : wndOtW * 3
            });
            $('.kwqBxsSld > div').css({
                'width' : wndOtW,
                'height': wndOtH
            });

            var bxsSldBgPrc = (scrTop - $kwqSct04.offset().top) / wndOtH;

            function boxSldAni(){
                var boxSldPrc = (scrTop - $kwqSct04.offset().top) / ($kwqSct04.outerHeight() - wndOtH);
                boxMaxSld = boxesWth * boxSldPrc;
                bxsSldBgPrc = (scrTop - $kwqSct04.offset().top + wndOtH * 0.7) / wndOtH * 0.7;
                if(scrTop >= $kwqSct04.offset().top && scrTop - $kwqSct04.offset().top < $kwqSct04.outerHeight() - wndOtH){
                    $kwqBxsSld.css('transform', 'translateX(' + -boxMaxSld + 'px)');
                } else if(scrTop < $kwqSct04.offset().top){
                    $kwqBxsSld.css('transform', 'translateX(0)');
                } else if(scrTop + wndOtH > $kwqSct04.offset().top + $kwqSct04.outerHeight()){
                    $kwqBxsSld.css('transform', 'translateX(' + -wndOtW * 2 + 'px)');
                }
            }

            class Scrooth {
                constructor({element = window, strength=10, acceleration = 1.2,deceleration = 0.975}={}) {
                    this.element = element;
                    this.distance = strength;
                    this.acceleration = acceleration;
                    this.deceleration = deceleration;
                    this.running = false;
                    this.bdyHgt = document.body.offsetHeight - window.innerHeight;

                    this.element.addEventListener('wheel', this.scrollHandler.bind(this), {passive: false});
                    this.element.addEventListener('mousewheel', this.scrollHandler.bind(this), {passive: false});
                    this.scroll = this.scroll.bind(this);
                }

                scrollHandler(e) {
                    e.preventDefault();

                    if (!this.running) {
                        this.top = this.element.pageYOffset || this.element.scrollTop || 0;
                        this.running = true;
                        this.currentDistance = e.deltaY > 0 ? 0.1 : -0.1;
                        this.isDistanceAsc = true;
                        this.scroll();

                    } else {
                        this.isDistanceAsc = false;
                        this.currentDistance = e.deltaY > 0 ? this.distance : -this.distance;
                    }
                    
                    
                    if(this.top < 0) this.top = 0;
                    if(this.top > this.bdyHgt) this.top = this.bdyHgt;

                }

                scroll() {
                    if (this.running) {
                        this.currentDistance *= this.isDistanceAsc === true ? this.acceleration : this.deceleration;
                        Math.abs(this.currentDistance) < 0.1 && this.isDistanceAsc === false ? this.running = false : 1;
                        Math.abs(this.currentDistance) >= Math.abs(this.distance) ? this.isDistanceAsc = false : 1;

                        this.top += this.currentDistance;
                        this.element.scrollTo(0, this.top);
                        
                        requestAnimationFrame(this.scroll);
                    }
                }
            }

            const scroll = new Scrooth({
                element: window,
                strength: 20,
                acceleration: 1.5,
                deceleration: 0.95,
            });



            sct01PdnTop();
        });


        
    </script>

    
</body>
</html>